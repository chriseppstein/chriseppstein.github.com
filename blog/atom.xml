<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>#chris-eppstein {position: unique;}</title>
  <link href="http://chriseppstein.github.com/atom.xml" rel="self" />
  <link href="http://chriseppstein.github.com/" />
  <updated>2010-06-19T16:22:31-07:00</updated>
  <id>http://chriseppstein.github.com/</id>
  <author>
    <name>Chris Eppstein</name>
    <email>chris[at]eppsteins[dawt]net</email>
  </author>
  <entry>
    <title>SF Bay Area Sass Meetup: June 29, 2010</title>
    <link href="http://chriseppstein.github.com/blog/2010/06/19/1st-compass-sass-meetup" />
    <updated>2010-06-19T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2010/06/19/1st-compass-sass-meetup</id>
    <content type="html">
      Nathan is in town so we're having a meetup on June 29, 2010 in Mountain View, CA.
    </content>
  </entry>
  <entry>
    <title>Working with Nested Application Bundles</title>
    <link href="http://chriseppstein.github.com/blog/2010/05/28/nested-bundles" />
    <updated>2010-05-28T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2010/05/28/nested-bundles</id>
    <content type="html">
      Ruby's Gem Bundler doesn't like it when you try to nest bundles. Here's a work-around.
    </content>
  </entry>
  <entry>
    <title>Refactor My Stylesheets: The Digg.com Edition</title>
    <link href="http://chriseppstein.github.com/blog/2010/05/25/refactor-my-stylesheets-digg-edition" />
    <updated>2010-05-25T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2010/05/25/refactor-my-stylesheets-digg-edition</id>
    <content type="html">
      See how I clean up a portion of Digg's CSS using Sass.
    </content>
  </entry>
  <entry>
    <title>Where are your Images?</title>
    <link href="http://chriseppstein.github.com/blog/2010/05/17/where-are-your-images" />
    <updated>2010-05-17T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2010/05/17/where-are-your-images</id>
    <content type="html">
      If you think you know where your images are -- think again.
    </content>
  </entry>
  <entry>
    <title>Compass 1.0 Roadmap</title>
    <link href="http://chriseppstein.github.com/blog/2010/05/14/compass-roadmap" />
    <updated>2010-05-14T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2010/05/14/compass-roadmap</id>
    <content type="html">
      How we're going to get to v1.0
    </content>
  </entry>
  <entry>
    <title>Compass v0.10 Released</title>
    <link href="http://chriseppstein.github.com/blog/2010/05/10/announcing-the-v0.10-release" />
    <updated>2010-05-10T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2010/05/10/announcing-the-v0.10-release</id>
    <content type="html">
      Compass v0.10 is released, read on to find out what's new!
    </content>
  </entry>
  <entry>
    <title>Introducing the Compass Core Team</title>
    <link href="http://chriseppstein.github.com/blog/2010/04/11/compass-core-team" />
    <updated>2010-04-11T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2010/04/11/compass-core-team</id>
    <content type="html">
      Eric Meyer and Brandon Mathis are joining the Compass Core Team.
    </content>
  </entry>
  <entry>
    <title>Haml Sucks for Content</title>
    <link href="http://chriseppstein.github.com/blog/2010/02/08/haml-sucks-for-content" />
    <updated>2010-02-08T00:00:00-08:00</updated>
    <id>http://chriseppstein.github.com/blog/2010/02/08/haml-sucks-for-content</id>
    <content type="html">
      Haml is awesome, but if you're using it for inline markup, you're doing it wrong.
    </content>
  </entry>
  <entry>
    <title>2009 - In Review</title>
    <link href="http://chriseppstein.github.com/blog/2009/12/08/the-year-in-review" />
    <updated>2009-12-08T00:00:00-08:00</updated>
    <id>http://chriseppstein.github.com/blog/2009/12/08/the-year-in-review</id>
    <content type="html">
      A short post looking back at the past year in my life.
    </content>
  </entry>
  <entry>
    <title>We Can Have Hack Free CSS With the @unsupported Directive</title>
    <link href="http://chriseppstein.github.com/blog/2009/10/19/css-unsupported-directive" />
    <updated>2009-10-19T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2009/10/19/css-unsupported-directive</id>
    <content type="html">
      Stylesheets can be hack free with a little help from the W3C. The @supported and @unsupported directives would allow conditional evaluation of CSS based on feature inspection.
    </content>
  </entry>
  <entry>
    <title>CSS Class Inheritance: Abstracting Selectors</title>
    <link href="http://chriseppstein.github.com/blog/2009/10/12/css-class-inheritance" />
    <updated>2009-10-12T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2009/10/12/css-class-inheritance</id>
    <content type="html">
      CSS class inheritance is a powerful concept. It allows selectors to inherit implementation. Read on for information on what it is, how it would work, what the present state is, and what future might hold.
    </content>
  </entry>
  <entry>
    <title>What is Compass</title>
    <link href="http://chriseppstein.github.com/blog/2009/09/30/what-is-compass" />
    <updated>2009-09-30T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2009/09/30/what-is-compass</id>
    <content type="html">
      <p>An astute person asked me yesterday:</p>&#x000A;&#x000A;<blockquote><p>It seems the only thing compass is is a repackaging of existing CSS frameworks like Blueprint into SASS mixins.&#x000A;Is that accurate?  Just trying to understand where Sass ends and Compass begins&#8230;</p></blockquote>&#x000A;&#x000A;<p>The short answer is: Yes. That, and some original Sass mixins. Oh and all the parts needed to make that possible.</p>&#x000A;&#x000A;<h2>Sass is the Star</h2>&#x000A;&#x000A;<p>Make no mistake, Sass is Awesome. I&#8217;m a fanboy. <a href="http://nex-3.com">Nathan Weizenbaum</a> has been an awesome maintainer of Sass and doesn&#8217;t get enough recognition for his work. I started using Sass just after it hit 2.0. Compass has pushed the limits of Sass and many of the language features of 2.2 were driven by Compass &#8211; the two have co-evolved into a powerful platform.</p>&#x000A;&#x000A;<h2>Compass is a Stylesheet Distribution Framework</h2>&#x000A;&#x000A;<p>Compass was initially a port of blueprint to Sass. But as I built it, it became apparent to me that the toolset I was building to distribute the blueprint source was orthogonal to the stylesheets. So Compass was born as a Meta-Framework (A framework for building and distributing css frameworks). With the ultimate goal of enabling anyone who wanted to share Sass stylesheets with others to do so without having to build any infrastructure.</p>&#x000A;&#x000A;<h2>Compass is Project Aware</h2>&#x000A;&#x000A;<p>Sass has it&#8217;s own compiler, but it operates on a single Sass file and generates a single CSS file. Compass understands that you have a complete website and provides a compiler for a whole directory tree of Sass files.</p>&#x000A;&#x000A;<p>But distributing a design, is more than just distributing some stylesheets. There&#8217;s likely some images. But how can you build distributable, upgradable stylesheets if those stylesheets need to refer to an image? Well, you could provide a mixin that takes an argument, or you could allow a variable to be set that says where it is. Or, you can use the <code>image_url</code> function provided by Compass that knows how to write a url, relative to your images path when serving over a webserver or <strong>relative to the generated stylesheet</strong> itself.</p>&#x000A;&#x000A;<h2>Compass enables Open Source Design</h2>&#x000A;&#x000A;<p>With a compass extension you can build a completed design, widget, toolset, etc. and distribute it to projects of different types (rails, php, java, etc) and when a bug is discovered, fix it and enable your users to upgrade without hassle or worry.</p>&#x000A;&#x000A;<h2>Compass Has Core Mixins</h2>&#x000A;&#x000A;<p>A mixin qualifies for &#8220;Core&#8221; status when it is generally useful to most projects and other frameworks. The core framework eliminates duplication and inconsistency between compass extensions.</p>&#x000A;&#x000A;<h2>The Next Version</h2>&#x000A;&#x000A;<p>The next major release of compass will provide tools to make building, distributing, discovering, and installing compass extensions a breeze. I&#8217;ve been working on it for a couple months now and it is really shaping up nicely. The command line tool will integrate with a plugin registry on the compass website to make it easy to find and install compass extensions.</p>&#x000A;&#x000A;<h2>Can you help?</h2>&#x000A;&#x000A;<p>Compass is a big project and there&#8217;s plenty of room for designers and coders alike to help out with Compass development and extension creation. If you&#8217;re sitting on some design that you&#8217;re proud of, it&#8217;s time to share it. If you want to contribute in any way (even testing new versions) join the <a href="http://groups.google.com/group/compass-devs">compass-devs</a> mailing list.</p>
    </content>
  </entry>
  <entry>
    <title>Separating Style Concerns</title>
    <link href="http://chriseppstein.github.com/blog/2009/09/25/separating-style-concerns" />
    <updated>2009-09-25T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2009/09/25/separating-style-concerns</id>
    <content type="html">
      <p>As with any creative work, sometimes, you just have to shoot some aspect of a design and do it over. As such, your goal should be to keep distinct aspects of your design isolated enough from each other that you&#8217;re not afraid to wipe out something that&#8217;s not working. In this post I&#8217;ll share some basic CSS and Sass strategies I use to help me separate different concerns. It&#8217;s important to note that while I&#8217;ll be using Sass to demonstrate my points, many of the strategies outlined here are applicable for users of CSS, <a href="http://lesscss.org">Less</a>, <a href="http://github.com/anthonyshort/csscaffold">CSScafold</a>, and other CSS meta-languages.</p>&#x000A;&#x000A;<h2>Benefits</h2>&#x000A;&#x000A;<p>Here are a few of the scenarios that will be made much simpler if you have followed this best practice:</p>&#x000A;&#x000A;<ul>&#x000A;<li>Theming</li>&#x000A;<li>A/B testing the impacts of design</li>&#x000A;<li>Experimenting with new designs</li>&#x000A;<li>Addressing accessibility (high contrast, larger fonts, etc.)</li>&#x000A;<li>Providing alternate stylesheets</li>&#x000A;<li>Removing features</li>&#x000A;</ul>&#x000A;&#x000A;&#x000A;<h2>Costs</h2>&#x000A;&#x000A;<p>In the short term it&#8217;s going to be cheaper and easier to have your styles all mixed up. Especially if you&#8217;re designing in code, it&#8217;s not at all feasible to start out with separation. Also, it&#8217;s easier to assume a certain <code>font-size</code> when cutting background images than it is to imagine how to handle many font sizes. It&#8217;s OK. This is a long term strategy, after you get the page built, you can refactor the styles &#8211; maybe even after you launch the site.</p>&#x000A;&#x000A;<h2>General Strategy</h2>&#x000A;&#x000A;<p>The style properties of CSS fall into three major categories: Layout, Design, and Typography. We will use these groupings in conjunction with the site&#8217;s natural divisions to create a clean separation of cross-cutting concerns as well as vertical (product feature) concerns.</p>&#x000A;&#x000A;<h2>Layout Properties</h2>&#x000A;&#x000A;<p>Separating out layout properties is absolutely the biggest win to be had with this strategy:</p>&#x000A;&#x000A;<ol>&#x000A;<li>Layout changes much less frequently than the design. Having your layout separated, allows you to easily chuck your design and start again.</li>&#x000A;<li>Your site will probably have a number of distinct layouts and those layouts will likely have some common aspects between them like headers, footers, overall widths. Common aspects are coupled and having them centralized, makes it easier to keep them in sync.</li>&#x000A;<li>Second, changes to an individual layout are coupled. If you add to your sidebar, you probably have to subtract from your main content body. It&#8217;s very nice to be able to quickly and easily locate and change the layout related properties.</li>&#x000A;<li>Coupled with layout mixins from a grid framework like Blueprint, it is very easy to visualize the layout in your head by just reading the styles.</li>&#x000A;</ol>&#x000A;&#x000A;&#x000A;<p>Layout properties are those which affect the location of content on the page:</p>&#x000A;&#x000A;<ul>&#x000A;<li><code>display</code></li>&#x000A;<li><code>position</code>, <code>left</code>, <code>top</code>, <code>bottom</code>, <code>right</code></li>&#x000A;<li><code>float</code> &amp; <code>clear</code></li>&#x000A;<li><code>width</code> &amp; <code>height</code></li>&#x000A;<li><code>margin</code></li>&#x000A;<li><code>border-width</code>, <code>padding</code></li>&#x000A;</ul>&#x000A;&#x000A;&#x000A;<p>It&#8217;s unfortunate that I have to include border width and padding in this list, because I really think that these should be aspects of design, but the reality is that unless you have the luxury of relying on CSS3&#8217;s <code>box-sizing</code> property, keeping borders and paddings separated requires you to nest elements in your content. If you have done this (or plan to), then you are in good shape in this respect.</p>&#x000A;&#x000A;<div class="code-wrapper">&#x000A;<table id="three-column-layouts" class="comparison side-by-side">&#x000A;<caption>A Three Column Layout Free of any design or typography</caption>&#x000A;<tr>&#x000A;<th class="window-title">Sass</th>&#x000A;<th class="gap">&nbsp;</th>&#x000A;<th class="window-title">Handcrafted CSS</th>&#x000A;</tr>&#x000A;<tr>&#x000A;<td valign="top" class="window editor">&#x000A;<div>&#x000A;<div class="highlight"><pre><span class="nt">body</span><span class="nc">.three-column</span>&#x000A;  <span class="nn">#header-wrapper</span><span class="o">,</span> <span class="nn">#footer-wrapper</span><span class="o">,</span> <span class="nn">#page-wrapper</span>&#x000A;    <span class="nd">+container</span>&#x000A;  <span class="nn">#header</span><span class="o">,</span> <span class="nn">#footer</span><span class="o">,</span> <span class="nn">#page</span>&#x000A;    <span class="nd">+column</span><span class="o">(</span><span class="mi">24</span><span class="o">)</span>&#x000A;  <span class="nn">#page</span>&#x000A;    <span class="nn">#left-sidebar</span>&#x000A;      <span class="nd">+column</span><span class="o">(</span><span class="mi">4</span><span class="o">)</span>&#x000A;    <span class="nn">#content</span>&#x000A;      <span class="nd">+column</span><span class="o">(</span><span class="mi">12</span><span class="o">)</span>&#x000A;    <span class="nn">#right-sidebar</span>&#x000A;      <span class="nd">+column</span><span class="o">(</span><span class="mi">8</span><span class="o">)</span>&#x000A;      <span class="nd">+last</span>&#x000A;</pre>&#x000A;</div>&#x000A;</div>&#x000A;</td>&#x000A;<td class="gap">&nbsp;</td>&#x000A;<td valign="top" class="window editor">&#x000A;<div>&#x000A;<div class="highlight"><pre><span class="c">/* Containers */</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#header-wrapper</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#footer-wrapper</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page-wrapper</span> <span class="p">{</span>&#x000A;  <span class="k">width</span><span class="o">:</span> <span class="m">950px</span><span class="p">;</span>&#x000A;  <span class="k">margin</span><span class="o">:</span> <span class="m">0</span> <span class="k">auto</span><span class="p">;</span>&#x000A;  <span class="k">overflow</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="c">/* Columns */</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#header</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#footer</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="nf">#left-sidebar</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="nf">#content</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="nf">#right-sidebar</span> <span class="p">{</span>&#x000A;  <span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="p">;</span>&#x000A;  <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>&#x000A;  <span class="k">margin-right</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="c">/* Column Widths */</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#header</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#footer</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="p">{</span>&#x000A;  <span class="k">width</span><span class="o">:</span> <span class="m">950px</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="nf">#left-sidebar</span> <span class="p">{</span>&#x000A;  <span class="k">width</span><span class="o">:</span> <span class="m">150px</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="nf">#content</span> <span class="p">{</span>&#x000A;  <span class="k">width</span><span class="o">:</span> <span class="m">470px</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="nf">#right-sidebar</span> <span class="p">{</span>&#x000A;  <span class="k">width</span><span class="o">:</span> <span class="m">310px</span><span class="p">;</span>&#x000A;  <span class="k">margin-right</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="c">/* Fixes for IE */</span>&#x000A;<span class="o">*</span> <span class="nt">html</span> <span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#header</span><span class="o">,</span>&#x000A;<span class="o">*</span> <span class="nt">html</span> <span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#footer</span><span class="o">,</span>&#x000A;<span class="o">*</span> <span class="nt">html</span> <span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span><span class="o">,</span>&#x000A;<span class="o">*</span> <span class="nt">html</span> <span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="nf">#left-sidebar</span><span class="o">,</span>&#x000A;<span class="o">*</span> <span class="nt">html</span> <span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="nf">#content</span><span class="o">,</span>&#x000A;<span class="o">*</span> <span class="nt">html</span> <span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page</span> <span class="nf">#right-sidebar</span> <span class="p">{</span>&#x000A;  <span class="k">overflow-x</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#header-wrapper</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#footer-wrapper</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page-wrapper</span> <span class="p">{</span>&#x000A;  <span class="c">/* We need the containers to have &quot;layout&quot; */</span>&#x000A;  <span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#header-wrapper</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#footer-wrapper</span><span class="o">,</span>&#x000A;<span class="nt">body</span><span class="nc">.three-column</span> <span class="nf">#page-wrapper</span> <span class="p">{</span>&#x000A;  <span class="c">/* but we didn&#39;t really want inline-block */</span>&#x000A;  <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span> <span class="p">}</span>&#x000A;</pre>&#x000A;</div>&#x000A;</div>&#x000A;</td>&#x000A;</tr>&#x000A;</table>&#x000A;</div>&#x000A;&#x000A;&#x000A;<h2>Typography Properties</h2>&#x000A;&#x000A;<p>Most sites have at least two of types of typography: Chrome and content &#8211; maybe more depending on your needs (for instance this blog has a lot of &#8220;code&#8221; typography). Many designers feel that typography and design are inextricably linked, so a strong separation between the two may not work for everyone. Nevertheless, since they are distinct concepts, I would encourage you to try separating them for the most part.</p>&#x000A;&#x000A;<p>Typographic properties are those which affect the flow and look of text:</p>&#x000A;&#x000A;<ul>&#x000A;<li><code>@font-face</code></li>&#x000A;<li><code>font-family</code></li>&#x000A;<li><code>font-size</code></li>&#x000A;<li><code>font-weight</code></li>&#x000A;<li><code>font-style</code></li>&#x000A;<li><code>line-height</code></li>&#x000A;<li><code>letter-spacing</code></li>&#x000A;<li><code>text-transform</code></li>&#x000A;<li><code>text-decoration</code></li>&#x000A;</ul>&#x000A;&#x000A;&#x000A;<p>This is not to say that every instance of these properties is automatically a typographic concern. Usually they will be. Also, I&#8217;ve left out some of the more &#8220;fancy&#8221; properties like <code>text-shadow</code> because I think they are usually more about design. But the main reason why the use of a particular property makes it typography or design is because you think it is. Don&#8217;t worry, if you&#8217;re thinking about it wrong, that will become clear eventually and when it does, you can refactor it.</p>&#x000A;&#x000A;<h2>Design Properties</h2>&#x000A;&#x000A;<p>Just about everything else is design. The previous two sections will only account for 10%-20% of you total stylesheet contents. So a well organized project will have a lot more structure to it than just the three main categories of style properties.</p>&#x000A;&#x000A;<h2>How to Refactor Your File Structure</h2>&#x000A;&#x000A;<p>Once you get a feature built to your satisfaction, you can begin to refactor it by organizing your file into three sections. Copy and paste the whole set of styles for the feature and delete all the style properties leaving only the selectors. Copy those selectors and paste them twice and comment your three sets of selectors layout, typography, and design. Then move the styles from the original location to the appropriate section. Until you&#8217;ve sorted all your styles. Lastly delete an unused selectors. If each of those sections fits onto a screen without scrolling, you can probably stop here. If the sections are still quite long, you might consider whether there are actually two or three distinct features that could be separated. For instance, a sass file for the site chrome might need to be broken up by header, footer, sidebar, etc.</p>&#x000A;&#x000A;<h2>Project Structure</h2>&#x000A;&#x000A;<p>Since Sass will assemble completed stylesheets for consumption by the browser using the <code>@import</code> directive, we can use files to organize our stylesheets without any performance penalty in production. I like to organize my stylesheets according to the following structure. Note: files starting with an underscore are called &#8220;partials&#8221; and are not compiled to a css file, but are instead meant to be imported into other stylesheets. Once a stylesheet gets long enough to be cumbersome (that is, scrolling is more disorienting than switching files), I create a folder of the same name and I split up the stylesheet into partials within that folder and then import them.</p>&#x000A;&#x000A;<pre><code>stylesheets/&#x000A;  _library.sass&#x000A;  library/&#x000A;    _utilities.sass&#x000A;    _some_other_mixins.sass&#x000A;  application.sass&#x000A;  application/&#x000A;    _common.sass&#x000A;    common/&#x000A;      _header.sass&#x000A;      _footer.sass&#x000A;      _sidebar.sass&#x000A;      _typography.sass&#x000A;      _layouts.sass&#x000A;      layouts/&#x000A;        _two_column.sass&#x000A;        _three_column.sass&#x000A;        _full_width.sass&#x000A;    _feature_1.sass&#x000A;    feature_1/&#x000A;      _design.sass&#x000A;      _structure.sass&#x000A;    _feature_2.sass&#x000A;    feature_2/&#x000A;      _design.sass&#x000A;      _structure.sass&#x000A;</code></pre>&#x000A;&#x000A;<h2>Project Library</h2>&#x000A;&#x000A;<p>Your project library is where you keep mixins and shared variable definitions. These files must never emit any styles, so that they can be included into your other files by simply importing the main library file.</p>&#x000A;&#x000A;<h2>Structuring Mixins</h2>&#x000A;&#x000A;<p>If you&#8217;re building a mixin of any complexity, it&#8217;s good to think about breaking it up into composable parts along these same lines. This allows a consumer of a mixin to peel back one layer of abstraction at a time and pick up the aspects of the mixin they want to use. It&#8217;s much easier to never have applied some set of styles than it is to override them. Of course, this only applies to mixins that provide a finished design.</p>&#x000A;&#x000A;<div class="code-wrapper">&#x000A;<table class="comparison side-by-side">&#x000A;  <tr>&#x000A;    <th class="window-title">stylesheets/library/_badges.sass</th>&#x000A;  </tr>&#x000A;  <tr>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="nf">=user-badge</span>&#x000A;  <span class="nd">+user-badge-layout</span>&#x000A;  <span class="nd">+user-badge-typography</span>&#x000A;  <span class="nd">+user-badge-design</span>&#x000A;&#x000A;<span class="nf">=moderator-badge</span>&#x000A;  <span class="nd">+user-badge-layout</span>&#x000A;  <span class="nd">+user-badge-typography</span>&#x000A;  <span class="nd">+moderator-badge-design</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;  </tr>&#x000A;</table>&#x000A;</div>&#x000A;&#x000A;&#x000A;<h2>Conclusion</h2>&#x000A;&#x000A;<p>Of course, this is not the only approach, this blog follows a slightly different approach because I want to build some features around alternate themes &#8211; so I have a top level separation of layout, typography and design that then breaks out into a finer structure. All the sass stylesheets for this blog can be browsed, so please <a href="http://chriseppstein.github.com/highlighted/stylesheets/screen.sass.html">check them out</a>. The most important consideration of how to structure a project is your knowledge of how things will change. Of course, you cannot predict the future and so there&#8217;s a good chance you&#8217;ll be wrong. When you realize you are, reorganize in a way that helps you manage change.</p>
    </content>
  </entry>
  <entry>
    <title>Why Stylesheet Abstraction Matters</title>
    <link href="http://chriseppstein.github.com/blog/2009/09/20/why-stylesheet-abstraction-matters" />
    <updated>2009-09-20T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2009/09/20/why-stylesheet-abstraction-matters</id>
    <content type="html">
      <p>I&#8217;ve seen a number of comments on blogs and twitter that amount to &#8220;You don&#8217;t need a new stylesheet syntax, CSS is simple and you&#8217;re a moron if you can&#8217;t do it.&#8221; I agree, CSS is simple. You assign style primitives to elements and some of those primitives cascade down to the elements contained within. I get it. It&#8217;s simple <em>to understand</em>. But CSS is not simple to use or maintain. It&#8217;s time for stylesheets to evolve so that we can take web design to the next level.</p>&#x000A;&#x000A;<p>Over the past few years the development of <a href="http://en.wikipedia.org/wiki/JavaScript_frameworks">JavaScript frameworks</a> have brought sanity to coding against the DOM &#8211; optimizing common coding tasks through the creation of abstractions than insulate us from the nitty-gritty details and providing a common platform for third-party libraries to rely on. As a result, it&#8217;s a very nice time to be a front-end programmer. It&#8217;s been a couple of years since I&#8217;ve bitched about DOM incompatibilities &#8211; long enough to almost forget how much work it used to be. It&#8217;s also a very nice time to be a user of the web, freed of the need to fuss with DOM primitives and JavaScript intricacies, developers have turned their spare time into much more sophisticated user interfaces.</p>&#x000A;&#x000A;<p>Creating and maintaining the styles of a website, by comparison, is a total pain in the ass. I&#8217;m not talking about the <a href="http://meyerweb.com/eric/thoughts/2009/02/17/wanted-layout-system/">lack of a decent layout module for CSS</a>. I&#8217;m talking about the fact that CSS lacks the expressive nature required to create abstractions. The simplicity of the CSS syntax creates complexity for the developer. Every time you have to copy and paste something within your stylesheet instead of reference that same information, you&#8217;ve missed an opportunity to make your stylesheets easier to maintain through abstraction. However, if you&#8217;ve ever tried to build a <a href="http://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a> stylesheet, you&#8217;ve found that the only tool at your disposal is the &#8220;class&#8221; construct. So the DRYest stylesheet will necessarily force you to put all kinds of presentation classes in your markup, thus making your website less maintainable. Case in point: Shared html partials &amp; includes may need to be styled differently in different contexts.</p>&#x000A;&#x000A;<p>Let&#8217;s be frank, your designs are going to change. New features will be added that make you reevaluate things. You&#8217;ll decide you hate some color or font treatment. Your HTML is going to change. New browsers are going to come out with new quirks. Any every time something changes, <strong>you</strong> have to propagate that change across your stylesheets. If you&#8217;re lucky, you can search and replace for the change. But what if you want to change the color <code>#000</code> to <code>#333</code>? You can&#8217;t search and replace for <code>#000</code>. First, you could have used <code>black</code> or <code>#000000</code> or <code>rgb(0,0,0)</code>. Second, it&#8217;s likely that black is used for other things than what is changing. But what if you had <em>named</em> that color? Now that black is different from all the other blacks. It&#8217;s now the &#8220;article font color&#8221; and changing that abstraction can be done once and propagated for you by a smarter stylesheet syntax.</p>&#x000A;&#x000A;<blockquote><p>CSS is the weakest link in the web developers toolbox. The problem goes deeper than CSS&#8217;s lack of variables. Unlike the &#8220;function&#8221; in programming, CSS has no fundamental building block.</p></blockquote>&#x000A;&#x000A;<h2>What Is Abstraction?</h2>&#x000A;&#x000A;<p>Abstraction is the ability to define a new concept in terms of other, more simple concepts. It&#8217;s nothing to be scared of. When you define a CSS class, you are creating an abstraction. Despite what the name implies, abstractions don&#8217;t make things harder to understand &#8211; quite the opposite in fact.</p>&#x000A;&#x000A;<h2>Why You Should <strike>Care About</strike> Demand Abstraction</h2>&#x000A;&#x000A;<p>Just because a website is digital, doesn&#8217;t mean it is intangible. It is a real thing that users can see and interact with. And although there&#8217;s a lot of code sitting behind a web page to make it work, it is the act of designing that makes a website concrete. It is the designer&#8217;s job to build real objects that users intuitively understand. Search boxes, articles, advertisements, navigation, and so on. But the browser doesn&#8217;t know what these things are. The browser only understands primitives like font-size, border, padding, images, tags, etc.</p>&#x000A;&#x000A;<p>So it is the designer&#8217;s job to transform the primitive design concepts that a browser understands into <strong>real things</strong>. This is done by defining new abstractions that never existed before. They are not abstract to us, rather they are abstract to the browser. So when a language gives you the power of abstraction, it gives you the power to build <strong>real things</strong>. And that is your job. And that is why you should care about, nay, demand a stylesheet syntax that gives you the power of abstraction.</p>&#x000A;&#x000A;<h2>Parts is Parts</h2>&#x000A;&#x000A;<p>No finished product of sufficient complexity is built without first creating intermediate parts. Let&#8217;s consider an automobile for example. There are belts, wires, alternators, gears, etc. When a car maker wants to build a car, they don&#8217;t build belts and gears. They specify what kind of belts and gears they need and they get them from a third party. No one would think less of BMW for doing so.</p>&#x000A;&#x000A;<p>We have the same in web design. Grids, buttons, tabs, menus, font rhythm, etc are all considered standard elements for a website. But for the most part, we don&#8217;t get their implementation from a third party. When we do, it&#8217;s generally <a href="http://twitter.com/zeldman/status/1470855033">viewed with disdain</a>. I think this is unacceptable. Once certain design elements become commodity, there is no reason for you to waste your time building them anymore. You should focus your time on the unique aspects of your design.</p>&#x000A;&#x000A;<p>Unfortunately, with CSS it&#8217;s hard to compose a design from third-party parts. They are hard to customize and once customized, hard to upgrade if there are bugs that need to be fixed. Clearly there must be a better way.</p>&#x000A;&#x000A;<h2>New Mechanisms of Stylesheet Abstraction</h2>&#x000A;&#x000A;<p><a href="http://sass-lang.com/">Sass</a> is a stylesheet syntax that has been gaining adoption first in the Ruby on Rails Community and is now growing in the wider web development community thanks to <a href="http://compass-style.org/">Compass</a>. Sass is the first and only stylesheet syntax to offer all of the following  mechanisms for creating abstractions. Each of these abstractions alone is very nice, but when you combine them, as we have done in Sass, something almost magical happens.</p>&#x000A;&#x000A;<dl>&#x000A;  <dt>Variables</dt>&#x000A;  <dd>A variable is a simple but important abstraction, by creating a variable with a name that didn&#8217;t exist before, you create a new concept. That concept is defined in terms of a simpler concept: a value.&#x000A;<div class="code-wrapper">&#x000A;<table class="comparison side-by-side">&#x000A;  <tr>&#x000A;    <th class="window-title">Sass</th>&#x000A;    <th class="gap">&nbsp;</th>&#x000A;    <th class="window-title">CSS</th>&#x000A;  </tr>&#x000A;  <tr>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="nv">!article_font_color</span><span class="o"> =</span> <span class="mh">#333</span>&#x000A;<span class="nc">.article</span> <span class="nt">p</span>&#x000A;  <span class="na">color</span><span class="o">=</span> <span class="nv">!article_font_color</span>&#x000A;<span class="nc">.widget</span> <span class="nc">.article-snippet</span>&#x000A;  <span class="na">color</span><span class="o">=</span> <span class="nv">!article_font_color</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;    <td class="gap">&nbsp;</td>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="nc">.article</span> <span class="nt">p</span> <span class="p">{</span>&#x000A;  <span class="k">color</span><span class="o">:</span> <span class="m">#333</span><span class="p">;}</span>&#x000A;<span class="nc">.widget</span> <span class="nc">.article-snippet</span> <span class="p">{</span>&#x000A;  <span class="k">color</span><span class="o">:</span> <span class="m">#333</span><span class="p">;}</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;  </tr>&#x000A;</table>&#x000A;</div>&#x000A;</dd>&#x000A;  <dt>Functions</dt>&#x000A;  <dd>CSS provides some functions for you to use. For example: rgb(), hsl(), url(). However, there is no mechanism for defining new CSS functions, but this doesn&#8217;t mean there couldn&#8217;t be. For example, in Sass, with a little ruby programming, you can define your own functions for use within your stylesheets. For example, the <a href="http://github.com/chriseppstein/compass-colors">compass-colors extension</a> provides a handful of very useful functions for manipulating colors.&#x000A;<div class="code-wrapper">&#x000A;<table class="comparison side-by-side">&#x000A;  <tr>&#x000A;    <th class="window-title">Sass</th>&#x000A;    <th class="gap">&nbsp;</th>&#x000A;    <th class="window-title">CSS</th>&#x000A;  </tr>&#x000A;  <tr>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="nv">!base</span><span class="o"> =</span> <span class="mh">#60A</span>&#x000A;<span class="nv">!highlight</span><span class="o"> =</span> <span class="nf">lighten</span><span class="o">(</span><span class="nv">!base</span><span class="o">,</span> <span class="mi">33</span><span class="kt">%</span><span class="o">)</span>&#x000A;<span class="nv">!shadow</span><span class="o"> =</span> <span class="nf">darken</span><span class="o">(</span><span class="nv">!base</span><span class="o">,</span> <span class="mi">33</span><span class="kt">%</span><span class="o">)</span>&#x000A;<span class="nt">div</span><span class="nc">.box</span>&#x000A;  <span class="na">background-color</span><span class="o">=</span> <span class="nv">!base</span>&#x000A;  <span class="nt">border</span><span class="nd">:</span>&#x000A;    <span class="na">width:</span> <span class="mi">2</span><span class="kt">px</span>&#x000A;    <span class="na">style:</span> <span class="no">solid</span>&#x000A;    <span class="na">colors</span><span class="o">=</span> <span class="nv">!highlight</span> <span class="nv">!highlight</span> <span class="nv">!shadow</span> <span class="nv">!shadow</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;    <td class="gap">&nbsp;</td>&#x000A;    <td rowspan="4" valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="nt">div</span><span class="nc">.box</span> <span class="p">{</span>&#x000A;  <span class="k">background-color</span><span class="o">:</span> <span class="m">#6600aa</span><span class="p">;</span>&#x000A;  <span class="k">border-width</span><span class="o">:</span> <span class="m">2px</span><span class="p">;</span>&#x000A;  <span class="k">border-style</span><span class="o">:</span> <span class="k">solid</span><span class="p">;</span>&#x000A;  <span class="k">border-color</span><span class="o">:</span> <span class="m">#a41bff</span> <span class="m">#a41bff</span> <span class="m">#440072</span> <span class="m">#440072</span><span class="p">;</span> <span class="p">}</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;  </tr>&#x000A;  <tr class="gap">&#x000A;    <td>&nbsp;</td>&#x000A;    <td class="gap">&nbsp;</td>&#x000A;  </tr>&#x000A;  <tr>&#x000A;    <th class="window-title">Ruby Definition</th>&#x000A;    <th class="gap">&nbsp;</th>&#x000A;  </tr>&#x000A;  <tr>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="c1"># Darken a color by 0-100%</span>&#x000A;<span class="k">def</span> <span class="nf">darken</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>&#x000A;  <span class="n">hsl</span> <span class="o">=</span> <span class="no">Compass</span><span class="o">::</span><span class="no">Colors</span><span class="o">::</span><span class="no">HSL</span><span class="o">.</span><span class="n">from_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>&#x000A;  <span class="n">hsl</span><span class="o">.</span><span class="n">l</span> <span class="o">*=</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span> <span class="o">-</span> <span class="p">(</span><span class="n">amount</span><span class="o">.</span><span class="n">value</span> <span class="o">/</span> <span class="mi">100</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>&#x000A;  <span class="n">hsl</span><span class="o">.</span><span class="n">to_color</span>&#x000A;<span class="k">end</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;    <td class="gap">&nbsp;</td>&#x000A;  </tr>&#x000A;</table>&#x000A;</div>&#x000A;</dd>&#x000A;  <dt>Expressions</dt>&#x000A;  <dd>An expression creates a new value by combining other values with operators and functions. This is itself an abstraction because it expresses the concept of how to arrive at a new value from other values. While expressions are more typing and reading than just specifying a value, they capture the process of creating the values you used so that later change is simple and others can understand why the value is what it is.&#x000A;<div class="code-wrapper">&#x000A;<table class="comparison side-by-side">&#x000A;  <tr>&#x000A;    <th class="window-title">Sass</th>&#x000A;    <th class="gap">&nbsp;</th>&#x000A;    <th class="window-title">CSS</th>&#x000A;  </tr>&#x000A;  <tr>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="nv">!browser_default_size</span><span class="o"> =</span> <span class="mi">16</span><span class="kt">px</span>&#x000A;<span class="nv">!base_font_size</span><span class="o"> =</span> <span class="mi">12</span><span class="kt">px</span>&#x000A;<span class="nv">!base_line_height</span><span class="o"> =</span> <span class="mi">18</span><span class="kt">px</span>&#x000A;<span class="nt">body</span>&#x000A;  <span class="na">font-size</span><span class="o">=</span> <span class="mi">100</span><span class="kt">%</span> <span class="o">*</span> <span class="nv">!base_font_size</span> <span class="o">/</span> <span class="nv">!browser_default_size</span>&#x000A;  <span class="na">line-height</span><span class="o">=</span> <span class="nv">!base_line_height</span> <span class="o">/</span> <span class="nv">!base_font_size</span>&#x000A;<span class="nt">p</span><span class="nc">.bigger</span>&#x000A;  <span class="cm">/* Maintain the same line height. */</span>&#x000A;  <span class="nv">!bigger_size</span><span class="o"> =</span> <span class="mi">16</span><span class="kt">px</span>&#x000A;  <span class="na">font-size</span><span class="o">=</span> <span class="mi">1</span><span class="kt">em</span> <span class="o">*</span> <span class="nv">!bigger_size</span> <span class="o">/</span> <span class="nv">!base_font_size</span>&#x000A;  <span class="na">line-height</span><span class="o">=</span> <span class="nv">!base_line_height</span> <span class="o">/</span> <span class="nv">!bigger_size</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;    <td class="gap">&nbsp;</td>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="nt">body</span> <span class="p">{</span>&#x000A;  <span class="k">font-size</span><span class="o">:</span> <span class="m">75%</span><span class="p">;</span>&#x000A;  <span class="k">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">5</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">p</span><span class="nc">.bigger</span> <span class="p">{</span>&#x000A;  <span class="c">/* Maintain the same line height. */</span>&#x000A;  <span class="k">font-size</span><span class="o">:</span> <span class="m">1.333em</span><span class="p">;</span>&#x000A;  <span class="k">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">125</span><span class="p">;</span> <span class="p">}</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;  </tr>&#x000A;</table>&#x000A;</div>&#x000A;</dd>&#x000A;  <dt>Mixins</dt>&#x000A;  <dd>A mixin is the contents of a selector without the selector. You can think of it as a class whose name is only visible to the stylesheet for use within that stylesheet for defining other selectors. Mixins can accept arguments to control their behavior. Mixins can contain other mixins and they can nest selectors too. <strong>Mixins are the fundamental unit of abstraction in Sass.</strong> They are the building blocks of <em>maintainable stylesheets</em>.&#x000A;<div class="code-wrapper">&#x000A;<table class="comparison">&#x000A;  <tr>&#x000A;    <th class="window-title">Sass</th>&#x000A;  </tr>&#x000A;  <tr>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="c1">// Cross Browser Transparency (Yuck!)</span>&#x000A;<span class="nf">=opacity</span><span class="o">(</span><span class="nv">!opacity</span><span class="o">)</span>&#x000A;  <span class="na">:opacity</span><span class="o">=</span> <span class="nv">!opacity</span>&#x000A;  <span class="na">:-moz-opacity</span><span class="o">=</span> <span class="nv">!opacity</span>&#x000A;  <span class="na">:-khtml-opacity</span><span class="o">=</span> <span class="nv">!opacity</span>&#x000A;  <span class="na">:-ms-filter</span><span class="o">=</span> <span class="s2">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=&quot;</span> <span class="o">+</span> <span class="nf">round</span><span class="o">(</span><span class="nv">!opacity</span><span class="o">*</span><span class="mi">100</span><span class="o">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>&#x000A;  <span class="na">:filter</span><span class="o">=</span> <span class="s2">&quot;alpha(opacity=&quot;</span> <span class="o">+</span> <span class="nf">round</span><span class="o">(</span><span class="nv">!opacity</span><span class="o">*</span><span class="mi">100</span><span class="o">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>&#x000A;&#x000A;<span class="nt">ul</span><span class="nc">.nav</span>&#x000A;  <span class="nt">li</span>&#x000A;    <span class="nd">+opacity</span><span class="o">(</span><span class="mi">0</span><span class="mf">.75</span><span class="o">)</span>&#x000A;    <span class="k">&amp;</span><span class="nd">:hover</span>&#x000A;      <span class="nd">+opacity</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;  </tr>&#x000A;  <tr class="gap">&#x000A;    <td>&nbsp;</td>&#x000A;  </tr>&#x000A;  <tr>&#x000A;    <th class="window-title">CSS</th>&#x000A;  </tr>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="nt">ul</span><span class="nc">.nav</span> <span class="nt">li</span> <span class="p">{</span>&#x000A;  <span class="k">opacity</span><span class="o">:</span> <span class="m">0</span><span class="o">.</span><span class="m">75</span><span class="p">;</span>&#x000A;  <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">opacity</span><span class="o">:</span> <span class="m">0</span><span class="o">.</span><span class="m">75</span><span class="p">;</span>&#x000A;  <span class="o">-</span><span class="n">khtml</span><span class="o">-</span><span class="k">opacity</span><span class="o">:</span> <span class="m">0</span><span class="o">.</span><span class="m">75</span><span class="p">;</span>&#x000A;  <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">filter</span><span class="o">:</span> <span class="n">progid</span><span class="o">:</span><span class="n">DXImageTransform</span><span class="o">.</span><span class="n">Microsoft</span><span class="o">.</span><span class="n">Alpha</span><span class="p">(</span><span class="n">Opacity</span><span class="o">=</span><span class="m">75</span><span class="p">);</span>&#x000A;  <span class="n">filter</span><span class="o">:</span> <span class="n">alpha</span><span class="p">(</span><span class="k">opacity</span><span class="o">=</span><span class="m">75</span><span class="p">);</span> <span class="p">}</span>&#x000A;  <span class="nt">ul</span><span class="nc">.nav</span> <span class="nt">li</span><span class="nd">:hover</span> <span class="p">{</span>&#x000A;    <span class="k">opacity</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">opacity</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;    <span class="o">-</span><span class="n">khtml</span><span class="o">-</span><span class="k">opacity</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>&#x000A;    <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">filter</span><span class="o">:</span> <span class="n">progid</span><span class="o">:</span><span class="n">DXImageTransform</span><span class="o">.</span><span class="n">Microsoft</span><span class="o">.</span><span class="n">Alpha</span><span class="p">(</span><span class="n">Opacity</span><span class="o">=</span><span class="m">100</span><span class="p">);</span>&#x000A;    <span class="n">filter</span><span class="o">:</span> <span class="n">alpha</span><span class="p">(</span><span class="k">opacity</span><span class="o">=</span><span class="m">100</span><span class="p">);</span> <span class="p">}</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;  </tr>&#x000A;</table>&#x000A;</div>&#x000A;</dd>&#x000A;  <dt>Macro Expansion</dt>&#x000A;  <dd>Macro expansion is the generation of selectors and styles using variables, conditionals, looping, and the like. Macro expansion allows for very high level concepts to be created. For example, a single mixin can <a href="http://github.com/chriseppstein/compass-960-plugin/blob/master/sass/960/_grid.sass#L59">generate a whole grid system</a>.&#x000A;<div class="code-wrapper">&#x000A;<table class="comparison side-by-side">&#x000A;  <tr>&#x000A;    <th class="window-title">Sass</th>&#x000A;    <th class="gap">&nbsp;</th>&#x000A;    <th class="window-title">CSS</th>&#x000A;  </tr>&#x000A;  <tr>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="k">@for</span> <span class="nv">!level</span> <span class="ow">from</span> <span class="mi">1</span> <span class="ow">through</span> <span class="mi">6</span>&#x000A;  <span class="nt">h</span><span class="nn">#</span><span class="err">{</span><span class="o">!</span><span class="nt">level</span><span class="err">}</span>&#x000A;    <span class="na">font-size</span><span class="o">=</span> <span class="mi">100</span><span class="kt">%</span> <span class="o">+</span> <span class="o">(</span><span class="mi">6</span> <span class="o">-</span> <span class="nv">!level</span><span class="o">)</span> <span class="o">*</span> <span class="mi">150</span><span class="kt">%</span> <span class="o">/</span> <span class="mi">5</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;    <td class="gap">&nbsp;</td>&#x000A;    <td valign="top" class="window editor">&#x000A;<div class="highlight"><pre><span class="nt">h1</span> <span class="p">{</span>&#x000A;  <span class="k">font-size</span><span class="o">:</span> <span class="m">250%</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">h2</span> <span class="p">{</span>&#x000A;  <span class="k">font-size</span><span class="o">:</span> <span class="m">220%</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">h3</span> <span class="p">{</span>&#x000A;  <span class="k">font-size</span><span class="o">:</span> <span class="m">190%</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">h4</span> <span class="p">{</span>&#x000A;  <span class="k">font-size</span><span class="o">:</span> <span class="m">160%</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">h5</span> <span class="p">{</span>&#x000A;  <span class="k">font-size</span><span class="o">:</span> <span class="m">130%</span><span class="p">;</span> <span class="p">}</span>&#x000A;&#x000A;<span class="nt">h6</span> <span class="p">{</span>&#x000A;  <span class="k">font-size</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span> <span class="p">}</span>&#x000A;</pre>&#x000A;</div>&#x000A;    </td>&#x000A;  </tr>&#x000A;</table>&#x000A;</div>&#x000A;</dd>&#x000A;</dl>&#x000A;&#x000A;&#x000A;<h2>Abstraction in Action</h2>&#x000A;&#x000A;<p>Compass is a stylesheet authoring framework and I&#8217;ll let you in on a little secret: Compass is written in 100% Sass. There&#8217;s nothing that Compass does that you couldn&#8217;t do yourself if you were willing to write the 175 mixins that Compass currently provides yourself. But the magical part is that you don&#8217;t have to. You can start working with the abstractions that have been discussed, tested, and iterated on by a community of designers and front-end engineers for over a year now. It&#8217;s a huge time saver.</p>&#x000A;&#x000A;<p>Now, if you have some styles and designs that you&#8217;ve made and spent a bunch of time perfecting, you can use the power of Sass to share that code with others. The members of the Compass community are creating plugins and sharing them with each other. The open source ethos is finally alive and functioning in the design community. And that, my friends, is abstraction in action.</p>&#x000A;&#x000A;<h2>Benefits of Abstraction</h2>&#x000A;&#x000A;<p>Whether or not you decide to use a framework like Compass, you will benefit from the capability to express abstraction. I&#8217;m going to summarize them here now and I will follow up with individual blog posts demonstrating these benefits.</p>&#x000A;&#x000A;<dl>&#x000A;  <dt>Browser Compatibility</dt>&#x000A;  <dd>Cross browser compatibility issues can be encapsulated by a mixin that keeps browser compatibility details hidden and centralized for fixing.</dd>&#x000A;&#x000A;  <dt>Clarity of Intent</dt>&#x000A;  <dd>By reading code it should be clear to see where all the values came from. Since code is read many, many more times than it is changed, we can use the power of abstraction to add clarity to the casual reader.</dd>&#x000A;&#x000A;  <dt>Change management</dt>&#x000A;  <dd>Bug fixes and design changes can be made confidently once and propagated automatically.</dd>&#x000A;&#x000A;  <dt>Domain specific style vocabulary</dt>&#x000A;  <dd>AKA Work how you think. Abstractions all you to design within the mindset of your site, not style primitives. Naming your colors things like &#8220;engaging_orange&#8221; and &#8220;calming_blue&#8221; help others know when it is appropriate to use those colors without any additional documentation.</dd>&#x000A;&#x000A;  <dt>Organization</dt>&#x000A;  <dd>Easier to keep similar concepts close to each other in code to optimize coordinated changes.</dd>&#x000A;&#x000A;  <dt>Work Faster</dt>&#x000A;  <dd>No need to revisit solved issues time and time again.</dd>&#x000A;&#x000A;  <dt>Semantic HTML</dt>&#x000A;  <dd>Writing semantic HTML is about avoiding dependency inversion and maintaining a separation of concerns. Lofty concepts that reap huge rewards when you get requirements to do something completely unexpected.</dd>&#x000A;&#x000A;  <dt>Ability to Refactor</dt>&#x000A;  <dd>Refactoring, a programming concept that means to change the implementation without changing the behavior, is a whole lot easier now because there is no need to touch html to add new css classes for the purposes of reuse.</dd>&#x000A;&#x000A;  <dt>Reuse</dt>&#x000A;  <dd>Both internal and across projects.</dd>&#x000A;</dl>&#x000A;&#x000A;&#x000A;<h2>Downsides to Abstraction</h2>&#x000A;&#x000A;<dl>&#x000A;  <dt>Learning curves</dt>&#x000A;  <dd>New concepts are new things to learn. Of course, I think a compelling argument can be made that a site full of legacy styles might be easier to comprehend once those explicit concepts are well understood.</dd>&#x000A;&#x000A;  <dt>Bug fixing</dt>&#x000A;  <dd>Fixing a bug often requires understanding the abstraction at a deeper level than you thought you had to. This tends to cause a lot of frustration for people, but it&#8217;s important to remember that this is still less time than you would have spent building it from scratch.</dd>&#x000A;&#x000A;  <dt>Finding the Source</dt>&#x000A;  <dd>When generating CSS, it&#8217;s harder to find where that generated CSS came from. Tools like Firebug will show you your CSS. To help, Sass will emit filenames and line numbers of the original sass code as comments, but firebug doesn&#8217;t display those yet.</dd>&#x000A;&#x000A;  <dt>Toolchain Complexity</dt>&#x000A;  <dd>Adding a compilation phase makes your project build more complex and places new requirements on those environments where stylesheets are compiled.</dd>&#x000A;&#x000A;  <dt>Documentation</dt>&#x000A;  <dd>Ok this is probably a benefit, since you likely needed it anyway, but I hate writing documentation. Once you define a new concept, you have a great place to document that concept now.</dd>&#x000A;&#x000A;  <dt>The abstraction doesn&#8217;t fit</dt>&#x000A;  <dd>This is a tough one. There are a couple of choices: 1) don&#8217;t use it. 2) change it. 3) complain. Once you learn the abstraction you may decide it doesn&#8217;t fit. If you don&#8217;t fully understand the abstraction, you may think you should use it when you shouldn&#8217;t &#8211; this is likely going to lead to complaining.</dd>&#x000A;&#x000A;</dl>&#x000A;&#x000A;&#x000A;<h2>Get Real Now, Go Abstract</h2>&#x000A;&#x000A;<p>CSS has proven to be an effective way to tell a web browser how to style a web page. But it has failed us as a technology for direct use by professionals who engineer websites. It should now be viewed more as an assembly language that higher-level languages emit, but that we shouldn&#8217;t be bothered with. The really great news about this approach is that we don&#8217;t have to introduce any new technologies for browsers to build or standards to be adhered to. You can start using Sass and Compass today. What are you waiting for? Oh, instructions; here&#8217;s <a href="http://net.tutsplus.com/tutorials/html-css-techniques/using-compass-and-sass-for-css-in-your-next-project/">a great tutorial on Sass and Compass</a> to get you up and running.</p>
    </content>
  </entry>
  <entry>
    <title>Building a Jekyll Watcher with FSSM</title>
    <link href="http://chriseppstein.github.com/blog/2009/09/07/building-a-jekyll-watcher-with-fssm" />
    <updated>2009-09-07T00:00:00-07:00</updated>
    <id>http://chriseppstein.github.com/blog/2009/09/07/building-a-jekyll-watcher-with-fssm</id>
    <content type="html">
      <p>Travis Tilley&#8217;s <a href="http://github.com/ttilley/fssm/tree/master">File System State Monitor</a> provides a fantastic API for monitoring a filesystem and&#x000A;performing actions when changes occur. It has multiple, platform-specific backends for dealing efficiently&#x000A;with filesystems and will resort to polling if it has to. I have already integrated it into <a href="http://github.com/chriseppstein/compass/tree/master">Compass</a>&#x000A;to implement the <code>--watch</code> functionality.</p>&#x000A;&#x000A;<p>When building this blog, I used it to trivially build a watcher for changes to the blog contents and&#x000A;regenerate the site using <a href="http://github.com/mojombo/jekyll/tree/master">jekyll</a> if anything changed. Coupled with <a href="http://github.com/jlong/serve/tree/master">serve</a>, I can&#x000A;basically forget that I&#8217;m developing a static website that has to be compiled. I&#8217;ve documented the basic&#x000A;steps required to build your own watcher here.</p>&#x000A;&#x000A;<h3>Install FSSM</h3>&#x000A;&#x000A;<pre class="console window"><span class="prompt">~</span> <span class="stdin">sudo gem install ttilley-fssm</span>&#x000A;<span class="stdout">Password:&#x000A;Successfully installed ttilley-fssm-0.0.6&#x000A;1 gem installed&#x000A;Installing ri documentation for ttilley-fssm-0.0.6...&#x000A;Installing RDoc documentation for ttilley-fssm-0.0.6...</span>&#x000A;</pre>&#x000A;&#x000A;&#x000A;<h3>Define An Update Function</h3>&#x000A;&#x000A;<p>This update function uses pipes because I wanted to see the output as it was emitted.</p>&#x000A;&#x000A;<div class="editor window">&#x000A;<div class="highlight"><pre><span class="k">def</span> <span class="nf">rebuild_site</span><span class="p">(</span><span class="n">relative</span><span class="p">)</span>&#x000A;  <span class="nb">puts</span> <span class="s2">&quot;&gt;&gt;&gt; Change Detected to: </span><span class="si">#{</span><span class="n">relative</span><span class="si">}</span><span class="s2"> &lt;&lt;&lt;&quot;</span>&#x000A;  <span class="no">IO</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s1">&#39;rake generate&#39;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">io</span><span class="o">|</span>&#x000A;    <span class="nb">print</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">readpartial</span><span class="p">(</span><span class="mi">512</span><span class="p">))</span> <span class="k">until</span> <span class="n">io</span><span class="o">.</span><span class="n">eof?</span>&#x000A;  <span class="k">end</span>&#x000A;  <span class="nb">puts</span> <span class="s1">&#39;&gt;&gt;&gt; Update Complete &lt;&lt;&lt;&#39;</span>&#x000A;<span class="k">end</span>&#x000A;</pre>&#x000A;</div>&#x000A;</div>&#x000A;&#x000A;&#x000A;<h3>Create a Watch Task</h3>&#x000A;&#x000A;<div class="editor window">&#x000A;<div class="highlight"><pre><span class="n">desc</span> <span class="s2">&quot;Watch the site and regenerate when it changes&quot;</span>&#x000A;<span class="n">task</span> <span class="ss">:watch</span> <span class="k">do</span>&#x000A;  <span class="nb">require</span> <span class="s1">&#39;fssm&#39;</span>&#x000A;  <span class="nb">puts</span> <span class="s2">&quot;&gt;&gt;&gt; Watching for Changes &lt;&lt;&lt;&quot;</span>&#x000A;  <span class="no">FSSM</span><span class="o">.</span><span class="n">monitor</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">#{</span><span class="no">File</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">__FILE__</span><span class="p">)</span><span class="si">}</span><span class="s2">/_source&quot;</span><span class="p">,</span> <span class="s1">&#39;**/*&#39;</span><span class="p">)</span> <span class="k">do</span>&#x000A;    <span class="n">update</span> <span class="p">{</span><span class="o">|</span><span class="n">base</span><span class="p">,</span> <span class="n">relative</span><span class="o">|</span> <span class="n">rebuild_site</span><span class="p">(</span><span class="n">relative</span><span class="p">)}</span>&#x000A;    <span class="n">delete</span> <span class="p">{</span><span class="o">|</span><span class="n">base</span><span class="p">,</span> <span class="n">relative</span><span class="o">|</span> <span class="n">rebuild_site</span><span class="p">(</span><span class="n">relative</span><span class="p">)}</span>&#x000A;    <span class="n">create</span> <span class="p">{</span><span class="o">|</span><span class="n">base</span><span class="p">,</span> <span class="n">relative</span><span class="o">|</span> <span class="n">rebuild_site</span><span class="p">(</span><span class="n">relative</span><span class="p">)}</span>&#x000A;  <span class="k">end</span>&#x000A;<span class="k">end</span>&#x000A;</pre>&#x000A;</div>&#x000A;</div>&#x000A;&#x000A;&#x000A;<h3>Invoke It</h3>&#x000A;&#x000A;<pre class="console window"><span class="prompt">~/Projects/chriseppstein.github.com</span> <span class="stdin">rake watch</span>&#x000A;<span class="stdout">(in /Users/chris/Projects/chriseppstein.github.com)&#x000A;>>> Watching for Changes &lt;&lt;&lt;</span>&#x000A;</pre>&#x000A;&#x000A;&#x000A;
    </content>
  </entry>
</feed>
