//* Grid Settings **//

//*
// Your basic units for the grid
$grid-unit: em !default
$total-cols: 16 !default
$col-width: 4 !default
$gutter-width: 1 !default
$side-gutter-width: $gutter-width !default
$container-width: container($total-cols, $col-width, $gutter-width, $side-gutter-width)

//*
// set on the outer grid containing element.
=container($align: left)
  //  clear all floated columns
  +clearfix
  //  align the text back to the left (override for other alignments)
  text-align: $align
  //  use auto horizontal margins to center your page in the body
  margin:
    left: auto
    right: auto
  //  set the page width based on column settings
  width: $container-width + $grid-unit
  //  never exceed 100% of the browser window (no side-scrolling)
  max-width: 100%

//*
// set on any column element, even nested ones.
// the first agument [required] is the number of columns to span
// the second argument is the context (columns spanned by parent)
// this is required in any nested context
// by default a grid-col is floated left with a right gutter
// override that with +float("right"), +first or +last
=columns($n, $context: false)
  //  the width of the column is set as a percentage of the context
  width: columns($n, $context) + unquote("%")
  //  the column is floated left
  +float(left)
  //  the right gutter is added as a percentage of the context
  margin-right: gutter($context) + unquote("%")

//*
// set on any column to add empty colums before or after
=prefix($n, $context: false)
  padding-left: columns($n, $context) + gutter($context) + unquote("%")

=suffix($n, $context: false)
  padding-right: columns($n, $context) + gutter($context) + unquote("%")

//*
// set as shortcut for prefix and suffix
=pad($p: 0, $s: 0, $c: false)
  @if $p != 0
    +prefix($p, $c)
  @if $s != 0
    +suffix($s, $c)

//*
// set on any element spanning the first column in non-nested context
// to take side-gutters into account
=alpha($nested: false)
  @if $nested == false
    margin-left: side-gutter() + unquote("%")

//*
// when global constant !hacks == true:
// - this will be called automatically with hacks
// when global constant !hacks == false:
// - you can call it yourself in ie.sass without the hacks
=ie-omega($nested: false, $right: false, $hack: false)
  $s: side-gutter()
  @if $right
    @if $hack
      #margin-left: -1%
    @else
      margin-left: -1%
  @else
    @if $nested
      @if $hack
        #margin-right: -1%
      @else
        margin-right: -1%
    @else
      @if $hack
        #margin-right: $s - 1 + unquote("%")
      @else
        margin-right: $s - 1 + unquote("%")

//*
// set on the last element of a row to take side-gutters into account
// - set !nested for nested columns
// - set !float for right-floated omega elements
=omega($nested: false, $right: false)
  $s: side-gutter()
  @if $nested
    margin-right: 0
  @else
    margin-right: $s + unquote("%")
  @if $hacks
    /* ugly hacks for IE6-7
    +ie-omega($nested, $right, unquote("*"))
    /* end ugly hacks

//*
// set on an element that will span it's entire context
// - no need for +columns, +alpha or +omega on a +full element
=full($nested: false)
  clear: both
  @if $nested == false
    $s: side-gutter() + unquote("%")
    margin-right: $s
    margin-left: $s
